
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulador - VGBank</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Simulador de Empréstimo</h1>
    <nav>
      <a href="index.html">Início</a>
      <a href="simulador.html">Simulador</a>
      <a href="historico.html">Histórico</a>
      <a href="login.html">Login</a>
    </nav>
  </header>

  <main>
    <label for="valor">Valor (R$):</label>
    <input type="number" id="valor" placeholder="Ex: 1000">

    <label for="juros">Tipo de Juros:</label>
    <select id="juros">
      <option value="0.2">20% ao mês</option>
      <option value="0.02">2% ao dia</option>
    </select>

    <label for="parcelas">Parcelas:</label>
    <select id="parcelas">
      <option value="1">1x</option>
      <option value="2">2x</option>
      <option value="3">3x</option>
      <option value="4">4x</option>
      <option value="5">5x</option>
      <option value="6">6x</option>
      <option value="7">7x</option>
    </select>

    <label for="mensagem">Mensagem adicional:</label>
    <textarea id="mensagem" placeholder="Digite aqui sua mensagem..."></textarea>

    <button onclick="simular()">Simular e Enviar</button>
    <div id="resultado"></div>
  </main>

  <footer>
    <p>© 2025 VGBank</p>
  </footer>

  <script>
    function simular() {
      const valor = parseFloat(document.getElementById("valor").value);
      const juros = parseFloat(document.getElementById("juros").value);
      const parcelas = parseInt(document.getElementById("parcelas").value);
      const mensagem = document.getElementById("mensagem").value;
      if (isNaN(valor) || valor <= 0) {
        alert("Digite um valor válido.");
        return;
      }
      let valorTotal = valor * (1 + juros);
      let resultadoTexto = "";
      if (parcelas === 1) {
        resultadoTexto = `1x de R$ ${valorTotal.toFixed(2)}`;
      } else {
        let valorParcela = valorTotal / parcelas;
        if (parcelas >= 3) valorParcela += 5;
        resultadoTexto = `${parcelas}x de R$ ${valorParcela.toFixed(2)} (Total: R$ ${(valorParcela * parcelas).toFixed(2)})`;
      }

      document.getElementById("resultado").innerText = "Resultado: " + resultadoTexto;

      localStorage.setItem("ultimaSimulacao", JSON.stringify({
        valor: valor,
        juros: juros,
        parcelas: parcelas,
        resultado: resultadoTexto,
        mensagem: mensagem
      }));

      window.location.href = "https://wa.me/5533999702202?text=" + encodeURIComponent("Simulação VGBank:
" + resultadoTexto + "
Mensagem: " + mensagem);
    }
  </script>
</body>
</html>
